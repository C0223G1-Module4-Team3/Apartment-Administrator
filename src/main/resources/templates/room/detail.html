<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detail room</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link rel="stylesheet" href="datatables/css/dataTables.bootstrap5.min.css"/>
    <style>
        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            color: #fff;
            font-size: 1.5rem;
            height: 3rem;
            width: 3rem;
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .btn-primary:hover {
            background-color: #28a745;
            border-color: #28a745;
        }

        .form-container {
            border-radius: 10px;
            /*border-top-left-radius: 20px;*/
            /*border-bottom-right-radius: 30px;*/
            /*border-top-right-radius: 10px;*/
            /*border-bottom-left-radius: 5px;*/
            border: 1px solid #ccc;
            padding: 20px;
            margin-top: 50px;
            margin-left: 10px;
            width: 800px;
            height: 400px;
        }

        .btn-primary-save {
            background-color: blue;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: bold;
        }

        .pause-service:hover {
            background-color: #5f9af3;
            color: #5f9af3;
        }
    </style>
</head>
<body style="background-color: white">
<div class="container-fluid">
    <div class="row ">
        <div class="col-2 col-md-2 col-lg-2" style="background-color: white;z-index:0;position: relative">Bỏ thanh
            header dọc
        </div>
        <div class="col-10 col-md-10 col-lg-10" style="background-color:#ECECEC">
            <div class="row" style="background-color: white">-----Bỏ thanh header vào-------</div>
            <div class="container">
                <div class="row" style="margin-top:30px">
                    <div class="col-4 col-md-4 col-lg-4" style="background-color: white;margin-left:20px;width:350px">
                        <div class="row">
                            <div class="col-8 col-md-8 col-lg-8">
                                <h1 th:text="${totalFacility}"></h1>
                                <span>Total amount facility</span>
                            </div>
                            <div class="col-4 col-md-4 col-lg-4">
                                <p></p>
                                <p style="text-align: center"><i class="fas fa-box" style="font-size:3rem"></i></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-4 col-md-4 col-lg-4" style="background-color: white;margin-left:20px;width:350px">
                        <div class="row">
                            <div class="col-8 col-md-8 col-lg-8">
                                <h2 style="text-align: center">Room Id</h2>
                                <h3 th:text="${detailRoom.id}" style="text-align: center"></h3>
                            </div>
                            <div class="col-4 col-md-4 col-lg-4">
                                <p></p>
                                <p style="text-align: center"><i class="fas fa-key" style="font-size:3rem"></i></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-4 col-md-4 col-lg-4 "
                         style="background-color: white; margin-left:20px; width:350px;">
                        <a href="/room" class="pause-service"
                           style="display: block; height: 100%; width: 100%;font-size: 35px;text-align: center;text-decoration: none;color: black">
                            List facility pause service
                        </a>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row" style="margin-left: 9px;margin-top:60px">
                    <div class="row">
                        <div class="col-9 col-md-9 col-lg-9"
                             style="background-color: #FFFFFF;text-align:left;position: relative;">
                            <button class="btn btn-primary" title="Create or Update Facility" data-bs-toggle="modal"
                                    data-bs-target="#createFacilityModal">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="col-2 col-md-2 col-lg-2" style="background-color: #FFFFFF"></div>
                        <div class="col-1 col-md-1 col-lg-1" style="background-color: #FFFFFF"></div>
                    </div>
                    <table class="table table-bordered" id="tableStudent" style="width:100%;background-color: #dee6ee">
                        <thead style="background-color: #FFFFFF">
                        <tr>
                            <th>Floor</th>
                            <th>Price</th>
                            <th>People Limit</th>
                            <th>Bedroom</th>
                            <th>Area</th>
                            <th>Update</th>
                            <th>Set Maintenance</th>
                        </tr>
                        </thead>
                        <tbody style="background-color: #F9F9FA">
                        <tr th:object="${detailRoom}">
                            <td th:text="${detailRoom.floor}"></td>
                            <td th:text="${detailRoom.price}"></td>
                            <td th:text="${detailRoom.maxPeople}"></td>
                            <td th:text="${detailRoom.bedroom}"></td>
                            <td th:text="${detailRoom.area}"></td>
                            <td>
                                <a th:href="@{/room/update/{id}(id=${detailRoom.getId()})}">
                                    <button>Update</button>
                                </a>
                            </td>
                            <td>
                                <a th:href="@{/room/maintenance/{id}(id=${detailRoom.getId()})}">
                                    <button>Maintenance</button>
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <table class="table table-bordered" style="width:100%;background-color: #dee6ee">
                        <thead style="background-color: #FFFFFF">
                        <th>STT</th>
                        <th>Facility</th>
                        <th>Amount</th>
                        <th>Update</th>
                        <th>Delete</th>
                        </thead>
                        <tbody style="background-color: #F9F9FA">
                        <tr th:each="detailRooms,iterStats : ${detailRoomByIdRoom}">
                            <td th:text="${iterStats.count}"></td>
                            <td th:text="${detailRooms.getFacility().name}"></td>
                            <td th:text="${detailRooms.getAmount()}"></td>
                            <td>
                                <a th:href="@{/room/facility/update/{id}(id=${detailRooms.getId()})}">
                                    <button class="btn btn-primary-save" title="Update Facility">
                                        Update
                                    </button>
                                </a>
                            </td>
                            <td>
                                <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                                        data-bs-target="#confirmModal">
                                    Delete
                                </button>
                            </td>
                            <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="confirmModalLabel">Accept Delete</h5>
                                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                        </div>
                                        <form th:action="@{/room/facility/delete}" method="post">
                                            <div class="form-group row">
                                                <label for="facility" class="col-sm-3 col-form-label"><strong>Facility name:</strong></label>
                                                <br>
                                                <p th:text="${detailRooms.facility.getName()}"></p>
                                            </div>
                                            <div class="form-group row">
                                                <label for="count" class="col-sm-3 col-form-label"><strong>Count of facility:</strong></label>
                                                <p th:text="${detailRooms.getAmount()}"></p>
                                            </div>
                                            <input th:value="${detailRooms.getId()}" name="idDelete" hidden>
                                            <input th:value="${detailRooms.getRoom().id}" name="idRoom" hidden>
                                            <div class="form-group row">
                                                <div class="col-sm-12 text-center">
                                                    <button type="submit" class="btn btn-primary-save">Accept</button>
                                                    <a th:href="@{/room/facility/detail/{id}(id=${detailRooms.getRoom().getId()})}">
                                                        <button type="button" class="btn btn-secondary">Cancel</button>
                                                    </a>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </tr>
                        </tbody>
                    </table>
                    <div>
                    </div>
                </div>
                <div class="pagination">
                    <ul>
                        <li th:if="${detailRoomByIdRoom.hasPrevious()}">
                            <a th:href="@{${url}(page=${detailRoomByIdRoom.previousPageable().pageNumber})}">Previous</a>
                        </li>
                        <li th:if="${detailRoomByIdRoom.hasNext()}">
                            <a th:href="@{${url}(page=${detailRoomByIdRoom.nextPageable().pageNumber})}">Next</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--footer-->
    <div class="row" style="background-color: white">
        <footer class="footer footer-light"
                style="background-color: white; color: rgba(21,19,19,0.76); text-align: center; position:relative; bottom: 0; width:100%;z-index:1;">
            This is my footer.
        </footer>
    </div>
</div>
<!--modall create-->
<div class="modal fade" id="createFacilityModal" tabindex="-1" aria-labelledby="createFacilityModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createFacilityModalLabel">Thêm mới facility</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form th:action="@{/room/facility/create}" method="post"
                      th:object="${detailRoomDto}">
                    <div class="form-group row">
                        <label for="facility" class="col-sm-3 col-form-label"><strong>Facility name:</strong></label>
                        <div class="col-sm-9">
                            <select id="facility" th:field="*{facilityId}" class="form-control">
                                <option th:each="facility : ${facilityList}" th:text="${facility.name}"
                                        th:value="${facility.id}"></option>
                            </select>
                        </div>
                    </div>
                    <input th:field="*{roomId}" th:value="${detailRoomDto.roomId}" hidden>
                    <div class="form-group row">
                        <label for="count" class="col-sm-3 col-form-label"><strong>Count of facility:</strong></label>
                        <div class="col-sm-9">
                            <div class="input-group">
                                <input type="number" class="form-control" id="count" th:field="*{amount}">
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="col-sm-12 text-center">
                            <button type="submit" class="btn btn-primary-save">Save</button>
                            <button type="button" class="btn btn-secondary">Cancel</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Modal xác nhận -->

<!--<script>-->
<!--    function setRepairUrl(id, name) {-->
<!--        var name1 = document.getElementById("nameFacilityRepair").innerHTML = name;-->
<!--        var repairLink = document.getElementById("repairLink");-->
<!--        var url = "@{/room/facility/repair/{id}(id=ID)}".replace("ID", id);-->
<!--        repairLink.setAttribute("href", url);-->
<!--    }-->
<!--</script>-->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
        integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
        integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
<script src="datatables/js/dataTables.bootstrap5.min.js"></script>
</body>
</html>